#- name: show msg
#  debug: msg="hello {{gen_ca}}"
#
- name: show msg
  debug: msg="hello {{ etcd_endpoints }}"

#- name: show msg
#  debug: msg="hello {{ groups['master'] }}"


#- name: 检查执行文件路径
#  shell: "for i in {{bin_files|join(' ')}};do cp `find {{tmp_dir}} -name $i` ~/bin;done"
#  register: res

#- name: Include variables
#  include_vars: "test_vars.yaml"
#

#- name: "block test"
#  block:
#  - include_tasks: "{{task}}.yaml"
#  rescue:
#  - debug: msg='I caught an error'

#- name: 检查执行文件路径
#  file:
#    path: /etc/foo.conf
#    state: file
#  register: res

#- name: 检查执行文件路径
#  shell: 'for i in {ca-key.pem,ca.pem,ca-config.json};do [ -f "/home/ifnoelse/tmp/tls/$i" ] &&  echo 1 || echo 0;done'
#  register: res

#- name: show msg
#  debug: msg="hello {{res.stdout_lines|join('')}}"
#  when: res.stdout_lines|join('') == "111"

#- name: 复制文件测试
#  become: true
#  copy:
#    src: "{{res_dir}}/cfssl_linux-amd64"
#    dest: "{{bin_dir}}/cfssl"
#    owner: root
#    group: root
#    mode: 0755

#- name: 复制文件测试
#  copy:
#    src: ca-config.json
#    dest: "~"